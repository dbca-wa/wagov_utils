#!/bin/sh

# Check Log Rotate Exists
mkdir -p /app/logs/rotate1/
mkdir -p /app/logs/rotate2/
mkdir -p /app/logs/rotate3/
mkdir -p /app/logs/rotate4/
mkdir -p /app/logs/rotate5/
mkdir -p /app/logs/rotate6/
mkdir -p /app/logs/rotate7/
mkdir -p /app/logs/rotate8/
mkdir -p /app/logs/rotate9/
mkdir -p /app/logs/rotate10/
mkdir -p /app/logs/rotate11/
mkdir -p /app/logs/rotate12/
mkdir -p /app/logs/rotate13/
mkdir -p /app/logs/rotate14/
mkdir -p /app/logs/rotate15/
mkdir -p /app/logs/rotate16/
mkdir -p /app/logs/rotate17/
mkdir -p /app/logs/rotate18/
mkdir -p /app/logs/rotate19/
mkdir -p /app/logs/rotate20/
mkdir -p /app/logs/rotate21/
mkdir -p /app/logs/rotate22/
mkdir -p /app/logs/rotate23/
mkdir -p /app/logs/rotate24/
mkdir -p /app/logs/rotate25/
mkdir -p /app/logs/rotate26/
mkdir -p /app/logs/rotate27/
mkdir -p /app/logs/rotate28/
mkdir -p /app/logs/rotate29/
mkdir -p /app/logs/rotate30/
mkdir -p /app/logs/rotate31/
mkdir -p /app/logs/rotate32/
mkdir -p /app/logs/rotate33/
mkdir -p /app/logs/rotate34/
mkdir -p /app/logs/rotate35/
mkdir -p /app/logs/rotate36/
mkdir -p /app/logs/rotate37/
mkdir -p /app/logs/rotate38/
mkdir -p /app/logs/rotate39/
mkdir -p /app/logs/rotate40/

# Rotate Logs
rm -rf /app/logs/rotate40/*
mv /app/logs/rotate39/* /app/logs/rotate40/
mv /app/logs/rotate38/* /app/logs/rotate39/
mv /app/logs/rotate37/* /app/logs/rotate38/
mv /app/logs/rotate36/* /app/logs/rotate37/
mv /app/logs/rotate35/* /app/logs/rotate36/
mv /app/logs/rotate34/* /app/logs/rotate35/
mv /app/logs/rotate33/* /app/logs/rotate34/
mv /app/logs/rotate32/* /app/logs/rotate33/
mv /app/logs/rotate31/* /app/logs/rotate32/
mv /app/logs/rotate30/* /app/logs/rotate31/
mv /app/logs/rotate29/* /app/logs/rotate30/
mv /app/logs/rotate28/* /app/logs/rotate29/
mv /app/logs/rotate27/* /app/logs/rotate28/
mv /app/logs/rotate26/* /app/logs/rotate27/
mv /app/logs/rotate25/* /app/logs/rotate26/
mv /app/logs/rotate24/* /app/logs/rotate25/
mv /app/logs/rotate23/* /app/logs/rotate24/
mv /app/logs/rotate22/* /app/logs/rotate23/
mv /app/logs/rotate21/* /app/logs/rotate22/
mv /app/logs/rotate20/* /app/logs/rotate21/
mv /app/logs/rotate19/* /app/logs/rotate20/
mv /app/logs/rotate18/* /app/logs/rotate19/
mv /app/logs/rotate17/* /app/logs/rotate18/
mv /app/logs/rotate16/* /app/logs/rotate17/
mv /app/logs/rotate15/* /app/logs/rotate16/
mv /app/logs/rotate14/* /app/logs/rotate15/
mv /app/logs/rotate13/* /app/logs/rotate14/
mv /app/logs/rotate12/* /app/logs/rotate13/
mv /app/logs/rotate11/* /app/logs/rotate12/
mv /app/logs/rotate10/* /app/logs/rotate11/
mv /app/logs/rotate9/* /app/logs/rotate10/
mv /app/logs/rotate8/* /app/logs/rotate9/
mv /app/logs/rotate7/* /app/logs/rotate8/
mv /app/logs/rotate6/* /app/logs/rotate7/
mv /app/logs/rotate5/* /app/logs/rotate6/
mv /app/logs/rotate4/* /app/logs/rotate5/
mv /app/logs/rotate3/* /app/logs/rotate4/
mv /app/logs/rotate2/* /app/logs/rotate3/
mv /app/logs/rotate1/* /app/logs/rotate2/
mv /app/logs/*.log /app/logs/rotate1/
gzip /app/logs/rotate1/*.log
